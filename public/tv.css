/* reset / base */
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  background: #FFF8E8;
  color: #fff;
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  box-sizing: border-box;
}

#enable-sound-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #154D71;
  color: white;
  border: none;
  padding: 12px 18px;
  border-radius: 8px;
  font-size: 18px;
  cursor: pointer;
  z-index: 999999;
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
  transition: opacity 0.3s ease;
}

/* Esconde completamente quando o JS remover */
#enable-sound-btn.hidden {
  opacity: 0;
  pointer-events: none;
}

/* ---------------------------
   Fixed logo (bottom-left)
   --------------------------- */
.fixed-logo,
.fixed-logo-link img.fixed-logo {
  position: fixed;
  bottom: 16px;
  left: 5px;
  width: 210px;
  height: auto;
  z-index: 9999;
  padding: 6px;
  display: block;
  user-select: none;
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  touch-action: none;
  cursor: default;
}

/* ---------------------------
   Header: logos + title
   --------------------------- */
.logo-wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 900px;
  margin-top: 20px;
  margin-bottom: 6px;
  pointer-events: none; 
}
.logo-wrapper img {
  display: block;
  height: auto;
  pointer-events: none;
}
.logo-fixa {
  width: 280px; /* logo primária */
  height: auto;
}
.logo-fixa.second-logo {
  width: 260px; /* logo secundária — ajuste se desejar */
  height: auto;
}

/* título centralizado sempre (PLANTÃO) */
.tv-header {
  text-align: center;
  margin-top: 8px;
  margin-bottom: 24px;
  pointer-events: none;
}
.tv-header h1 {
  font-size: 64px;
  color: #154D71;
  margin: 6px 0 8px 0;
  animation: glowPulse 3s ease-in-out infinite;
  text-shadow: 0 6px 0 rgba(0,0,0,0.02);
}
@keyframes glowPulse {
  0% { text-shadow: 0 0 8px #1C6EA4; }
  50% { text-shadow: 0 0 20px #33A1E0; }
  100% { text-shadow: 0 0 8px #1C6EA4; }
}

/* ---------------------------
   GRID: body that holds sectors + video
   --------------------------- */
/* var --video-width definida via JS quando o vídeo é ativado */
:root { --video-width: 0px; }

/* SEM VÍDEO → apenas 1 coluna, tudo centralizado */
.tv-body {
  display: grid;
  grid-template-columns: 1fr var(--video-width);
  gap: 36px;
  align-items: start;   /* <-- NÃO CENTRALIZA MAIS VERTICALMENTE */
  justify-content: center;
  padding: 10px 60px 60px 60px;
  box-sizing: border-box;

  min-height: auto;     /* <-- REMOVE ALTURA FORÇADA */
  height: auto;         /* <-- garante que só cresça conforme o conteúdo */
  transition: grid-template-columns 550ms cubic-bezier(.21, .98, .25, 1), padding 350ms ease;
}

/* ---------------------------
   SECTORS (cards) - estilo original
   --------------------------- */
.tv-sectors {
  display: flex;
  flex-direction: column;
  gap: 22px;
  align-items: center;
  max-width: 1000px;        
  min-width: 700px;
  margin: 0 auto;
  width: 100%;
  transition: all 400ms ease;
  box-sizing: border-box;
  flex-shrink: 0;            
  box-sizing: border-box;
}

.tv-sector {
  width: 92%;
  max-width: 1000px;
  padding: 28px 36px;
  border-radius: 14px;
  color: #fff;
  display: flex;
  flex-direction: column;
  box-shadow: 0 10px 30px rgba(2,6,23,0.6);
  transform-origin: left top;
  box-sizing: border-box;
}

.tv-sector h3 { margin:0; font-size:32px; font-weight:800; }
.tv-sector .bigstatus { margin-top:12px; font-size:44px; font-weight:900; }
.tv-sector .reason { margin-top:14px; font-size:20px; }
.tv-sector .eta { margin-top:10px; font-size:20px; font-weight:800; color:rgba(255,255,255,0.95); text-shadow:0 1px 0 rgba(0,0,0,0.25);}
.tv-sector .instruction { margin-top:8px; font-size:18px; background: rgba(0,0,0,0.12); padding:8px 12px; border-radius:8px; font-weight:700; display:inline-block; }

/* ABERTO */
.tv-sector.Aberto {
  background: linear-gradient(135deg,#064e3b 0%,#0a5f46 60%,#0f6f4f 100%);
  color:#fff;
  box-shadow: 0 0 12px rgba(41,221,6,0.1), 0 0 32px rgba(16,185,129,0.08);
  animation: openUltraSoft 6s ease-in-out infinite;
}

/* RESTRITO */
.tv-sector.Restrito {
  background: linear-gradient(135deg,#cc3333,#b91c1c);
  animation: restrictedGlow 2s ease-in-out infinite;
}
@keyframes restrictedGlow {
  0% { box-shadow: 0 0 15px rgba(255,80,80,0.5), 0 0 30px rgba(255,20,20,0.6); }
  50% { box-shadow: 0 0 30px rgba(255,100,100,0.9), 0 0 50px rgba(255,40,40,1); }
  100% { box-shadow: 0 0 15px rgba(255,80,80,0.5), 0 0 30px rgba(255,20,20,0.6); }
}

/* ---------------------------
   VIDEO overlay / player column
   --------------------------- */
.tv-video-overlay {
  grid-area: auto / auto / auto / auto;
  justify-self: flex-start;
  align-self: center;
  pointer-events: none;
  opacity: 0;
  transform: translateX(40px) scale(0.98);
  transition: opacity 500ms ease, transform 500ms cubic-bezier(.21, .98, .25, 1);
  display: block; /* não usar display:none para permitir transições */
  width: auto !important;
  max-width: none !important;
}

/* inner player (controle de tamanho via clamp) */
.tv-video-inner {
  width: clamp(700px, 50vw, 1350px); /* ajuste recomendado para tela grande */
  aspect-ratio: 16/9;
  max-height: calc(100vh - 160px);   /* evita ultrapassar a viewport e barras pretas */
  height: auto;
  background: #000;
  border-radius: 12px;
  overflow: hidden;
  position: relative;
  box-shadow: 0 14px 40px rgba(0,0,0,0.25);
   margin: 0; /* remove margens que possam deslocar */
}

/* botão fechar dentro do player */
.tv-video-close {
  position: absolute;
  top: 8px;
  right: 8px;
  z-index: 100000;
  background: rgba(0,0,0,0.5);
  color: white;
  border: none;
  padding: 8px 10px;
  border-radius: 6px;
  cursor: pointer;
  display: none;
}

/* assegura que iframe ocupe 100% */
#tv-player, #tv-player iframe {
  width: 100% !important;
  height: 100% !important;
  display: block;
  border: 0;
  margin: 0;
  padding: 0;
}
#tv-player > iframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

/* ---------------------------
   ESTADO: COM VÍDEO (adiciona .with-video via JS)
   --------------------------- */
.tv-body.with-video {
  /* --video-width deve ser setado pelo JS (ex: clamp(700px,50vw,1350px)) */
    grid-template-columns: minmax(750px, 1fr) minmax(650px, 48vw);
}

/* mostra overlay e ativa interações */
.tv-body.with-video .tv-video-overlay {
  justify-self: center;                 /* mantém centralização na coluna */
  opacity: 1;
  transform: translateX(0) scale(1);
}
.tv-body.with-video .tv-video-close { display: block; }

/* AUMENTA OS CARDS quando o vídeo estiver ativo (sem deformar texto)
   - a área de setores permite crescer com base em --video-width
   - o card ganha mais padding/max-width para parecer maior */
.tv-body.with-video .tv-sectors {
  /* permita mais espaço para os cards mesmo com a coluna de vídeo */
  max-width: min(1200px, calc(100% - var(--video-width, 0px) - 40px)) !important;
}

.tv-body.with-video .tv-sector {
  /* card fica visualmente maior (só largura/padding) */
  max-width: 1200px;
  width: 100%;
  padding-left: 44px;
  padding-right: 44px;
  box-sizing: border-box;
  transform: none !important;
  opacity: 0.98;
  transform: translateY(0);
}

/* opcional: centralizar texto dentro dos cards durante o estado with-video */
.tv-body.with-video .tv-sector h3,
.tv-body.with-video .tv-sector .bigstatus,
.tv-body.with-video .tv-sector .reason,
.tv-body.with-video .tv-sector .eta,
.tv-body.with-video .tv-sector .instruction {
  text-align: center;
}

/* sutil dim do painel ao exibir vídeo (estética) */
.tv-body.with-video .tv-sectors { filter: brightness(0.98) saturate(0.98); }

/* ---------------------------
   responsive tweaks
   --------------------------- */
@media (max-width: 900px) {
  /* empilhar para telas pequenas */
  .tv-body { grid-template-columns: 1fr; grid-template-rows: auto auto; gap: 18px; padding: 10px 20px 60px 20px; }
  .tv-video-inner { width: 92%; max-width: 100%; margin: 0 auto; }
  .tv-body.with-video .tv-sectors { max-width: 92%; justify-self: flex-start;}
  .logo-wrapper { gap: 16px; }
  .logo-fixa { width: 220px; }
  .logo-fixa.second-logo { width: 140px; }
  .tv-header h1 { font-size: 40px; }
  .tv-sector { padding: 18px; width: 92%; }
  .tv-body.with-video .tv-video-overlay {transform: translateX(0) translateY(6px) scale(1.02);}
}

@media (max-width: 1200px) {
  /* empilhar para telas pequenas */
  .tv-body { grid-template-columns: 1fr; grid-template-rows: auto auto; gap: 18px; padding: 10px 20px 60px 20px; }
  .tv-video-inner { width: 92%; max-width: 100%; margin: 0 auto; }
  .tv-body.with-video .tv-sectors { max-width: 92%; }
  .logo-wrapper { gap: 16px; }
  .logo-fixa { width: 220px; }
  .logo-fixa.second-logo { width: 140px; }
  .tv-header h1 { font-size: 40px; }
  .tv-sector { max-width: 100% !important; width: 100% !important; }
  .tv-sectors { max-width: 1000px; min-width: 720px; justify-self: flex-start;}
}

/* 3) Em telas médias, dá um mínimo menor (responsivo) */
@media (min-width: 992px) and (max-width:1199px) {
  .tv-sectors {
    max-width: 920px !important;
    min-width: 620px !important;
    justify-self: flex-start;
  }
}

/* 4) Em telas pequenas (mobile/tablet) - mantenha comportamento empilhado */
@media (max-width: 991px) {
  .tv-sectors {
    max-width: 92%;
    min-width: 0;
    flex-shrink: 1;
    justify-self: flex-start;
  }
}

/* ---------------------------
   small helper rules
   --------------------------- */
/* preserve original look when no video */
.tv-body:not(.with-video) .tv-sectors { max-width: 1200px; transition: max-width 360ms ease; }
.tv-body:not(.with-video) .tv-sector { width: 92%; max-width: 1000px; padding: 28px 36px; transform: none !important; opacity: 1;}

/* small accessibility: pointer-events for logos disabled (cosmetic) */
.logo-wrapper, .tv-header { pointer-events: none; }

.tv-body .tv-sector {
  transition:
    max-width 550ms cubic-bezier(.21, .98, .25, 1),
    padding 450ms ease,
    opacity 350ms ease;
}

/* ---------- TRANSIÇÃO ULTRA SUAVE E LENTA ---------- */

/* Cards (setores) transição única, sem conflito */
.tv-body .tv-sector {
  transition:
    max-width 800ms cubic-bezier(.18, .89, .32, 1.12),
    padding 750ms cubic-bezier(.18, .89, .32, 1.12),
    opacity 650ms ease;
}

/* Container de setores também precisa suavizar */
.tv-body .tv-sectors {
  transition:
    max-width 800ms cubic-bezier(.18, .89, .32, 1.12),
    filter 600ms ease;
}

/* Vídeo entrando com fade + slide suave */
.tv-video-overlay {
  opacity: 0;
  transform: translateX(50px) scale(0.97);
  transition:
    opacity 700ms ease,
    transform 700ms cubic-bezier(.18, .89, .32, 1.12);
}

/* Vídeo ativo */
.tv-body.with-video .tv-video-overlay {
  opacity: 1;
  transform: translateX(0px) scale(1);
}

/* Transição do grid ao abrir o vídeo */
.tv-body {
  transition:
    grid-template-columns 800ms cubic-bezier(.18, .89, .32, 1.12),
    padding 500ms ease;
}

/* Fade do layout todo */
.tv-body {
  will-change: grid-template-columns, padding;
}

/* Setores levemente mais opacos = efeito profissional */
.tv-body.with-video .tv-sector {
  opacity: 0.95;
}
.tv-body:not(.with-video) .tv-sector {
  opacity: 1;
}
